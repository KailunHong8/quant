# Claude Code + Amazon Bedrock Configuration
# Source this file: source claude_code_bedrock.env
# Or add to your ~/.zshrc or ~/.bash_profile

# Enable Bedrock integration
export CLAUDE_CODE_USE_BEDROCK=1

# AWS Region (required - Claude Code doesn't read from .aws/config)
# Must match your AWS profile region
export AWS_REGION=eu-west-1

# Optional: Override region for small/fast model (Haiku)
# export ANTHROPIC_SMALL_FAST_MODEL_AWS_REGION=eu-west-1

# Optional: Custom model configuration
# Using inference profile IDs (recommended for Bedrock)
# export ANTHROPIC_MODEL='global.anthropic.claude-sonnet-4-5-20250929-v1:0'
# export ANTHROPIC_SMALL_FAST_MODEL='us.anthropic.claude-haiku-4-5-20251001-v1:0'

# Recommended output token settings for Bedrock
# Bedrock's burndown throttling requires minimum 4096 tokens
export CLAUDE_CODE_MAX_OUTPUT_TOKENS=4096
export MAX_THINKING_TOKENS=1024

# Optional: Disable prompt caching if needed
# export DISABLE_PROMPT_CACHING=1

# AWS Profile (using SSO profile)
export AWS_PROFILE=bedrock-code-ai

echo "âœ“ Claude Code Bedrock configuration loaded"
echo "  AWS Region: $AWS_REGION"
echo "  Bedrock enabled: $CLAUDE_CODE_USE_BEDROCK"

